---
title: 'EC2 인스턴스 생성하기'
date: 2020-09-02 18:22:00
category: 'aws'
draft: false
---

## EC2

- EC2(Elastic Compute Cloud)는 AWS에서 제공하는 성능, 용량 등을 유동적으로 사용할 수 있는 서버
- "AWS에서 `리눅스 서버` 혹은 `윈도우 서버`를 사용합니다" 라고 했을 때의 `서버`를 지칭
- AWS에서 무료로 제공하는 프리티어 플랜에서의 제한
  - 사양이 t2. micro만 사용가능
    - vCPU(가상 CPU) 1 Core, 메모리 1GB 사양
    - 보통 vCPU는 물리 CPU 사양의 절반 정도의 성능을 가진다
    - 월 750시간의 제한. 초과하면 비용이 부과
      - 24시간\*31일 = 744시간
      - 즉, 1대의 t2.micro만 사용한다면 24시간 사용할 수 있다.

## EC2 인스턴스 생성하기

- 리전을 서울로 변경하기
  - 리전이란 AWS의 서비스가 구동될 지역을 말함. AWS는 도시별로 클라우드 센터를 지어 해당 센터에서 구축된 가상머신들을 사용할 수 있다. 이걸 리전이라 한다.
  - 서울 리전이 생기기 전까지는 국내 서비스들은 도쿄 리전을 사용했다. 한국과 가장 가까운 지역이라 가장 네트워크가 빠르기 때문. 현재는 서울 리전이 있어 국내에서 서비스한다면 무조건 서울 리전을 선택하면 된다.
  - 보통 처음 리전이 `오아이주`로 되어 있는데 `서울`로 변경
- AWS 서비스에서 EC2 검색
- EC2 대시보드가 나오면 중앙에 있는 `인스턴스 시작` 버튼 클릭.
  - `인스턴스`란 EC2 서비스에 생성된 가상머신을 이야기한다.
- 인스턴스 생성하는 **첫 단계** 는 `AMI(Amazone MAchine Image, 아마존 머신 이미지)` 를 선택하는 것이다.
  - AMI란
    - AMI는 EC2 인스턴스를 시작하는데 필요한 정보를 이미지로 만들어 둔 것을 이야기한다.
    - 인스턴스라는 가상머신에 운영체제 등을 설치할 수 있게 구워 넣은 이미지
    - 아마존 리눅스 1 AMI 를 선택한다면 Amazon Linux 1 OS가 인스턴스에 설치되어 개발자가 사용할 수 있음을 의미
- Amazone Linux AMI를 선택
  - 아마존 리눅스 2 대신에 아마존 리눅스 1(Amazon Linux AMI)을 선택한 이유는 아직 국내 자료가 리눅스 1이 더 많기 때문
  - 보통 센토스 6 버전으로 진행되는 자료들은 아마존 리눅스 1에서 모두 사용할 수 있다.
  - 아마존 리눅스 2는 센토스 7버전 자료들을 그대로 사용할 수 있다.
  - 센토스 AMI를 사용하지 않고 아마존 리눅스 AMI를 사용하는 이유는?
    - 아마존이 개발하고 있기 때문에 지원받기가 쉽다.
    - 레드햇 베이스이므로 레드햇 계열의 배포판을 많이 다뤄본 사람일수록 문제없이 사용할 수 있다.
    - AWS의 각종 서비스와의 상성이 좋다.
    - Amazon 독자적인 개발 리포지터리를 사용하고 있어 yum이 매우 빠르다.
    - AWS를 사용하는데 굳이 AWS에서 지원하는 운영체제를 선택하지 않을 이유는 없다.
- 인스턴스 유형 선택
  - 그룹=`General Purpose` / 유형=`t2.micro`, 프리 티어 사용 가능 / => 선택
    - t2는 요금 타입, micro는 사양.
    - 크레딧이란 일종의 CPU를 사요알 수 있는 포인트 개념이 있다. 인스턴스 크기에 따라 저애진 비율로 CPU 크레딧을 계속 받게 되며, 사용하지 않을 때는 크레딧을 축적하고, 사용할 때 이 크레딧을 사용.
    - 정해진 사양보다 더 높은 트래픽이 오면 크레딧을 좀 더 적극적으로 사용하면서 트래픽을 처리하지만, 크레딧이 모두 사용되면 더 이상 EC2를 사용할 수 없다.
- 세부정보 구성
  - 기업에서 사용할 경우 화면상에 표기된 VPC, 서브넷 등을 세세하게 다루지만, 여기서는 혼자서 1대의 서버만 사용하니 별다른 설정을 하지 않고 넘어간다. - (AWS초보는) VPC와 서브넷 등은 AWS 서비스들의 네트워크 환경을 구성하는 정도로만 이해하면 된다.
- 스토리지 선택

  - 30GB로 변경
  - 스토리지는 하드디스크(SSD)를 의미. 서버의 용량을 얼마나 정할지 선택
  - 설정의 기본값은 8GB이며 30GB 이상의 사이즈는 비용이 청구된다.

- 태그 추가

참고 : 스프링 부트와 AWS로 혼자 구현하는 웹 서비스
